using Crypto_Desktop.Interfaces;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net.Http;
using System.Text;
using System.Text.Json;
using System.Threading.Tasks;
using System.Windows;

namespace Crypto_Desktop.Client
{
    public class BaseApiClient : IHttpClient
    {
        private readonly HttpClient _httpClient;
        public BaseApiClient() 
        {  
            _httpClient = new();
            _httpClient.DefaultRequestHeaders.UserAgent.ParseAdd("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML,"+ " like Gecko) Chrome/112.0.0.0 Safari/537.36");
        }
        public BaseApiClient(HttpClient httpClient) => _httpClient = httpClient;
        public async Task<T> GetAsync<T>(Uri resourceUri)
        {
            try
            {
                var response = await _httpClient.SendAsync(new HttpRequestMessage(HttpMethod.Get, resourceUri));
                response.EnsureSuccessStatusCode();
                var responseContent = await response.Content.ReadAsStringAsync();
                T var = JsonSerializer.Deserialize<T>(responseContent);
                
                return var;
            }
            catch (Exception e)
            {
                MessageBox.Show(e.Message, "Error", MessageBoxButton.OK);
                throw new HttpRequestException(e.Message);
            }
        }

    }
}


//                string json = @"[
//  {
//    ""id"": ""bitcoin"",
//    ""symbol"": ""btc"",
//    ""name"": ""Bitcoin"",
//    ""image"": ""https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1696501400"",
//    ""current_price"": 43078,
//    ""market_cap"": 844574158403,
//    ""market_cap_rank"": 1,
//    ""fully_diluted_valuation"": 904069186478,
//    ""total_volume"": 8997695142,
//    ""high_24h"": 43247,
//    ""low_24h"": 42731,
//    ""price_change_24h"": 43.06,
//    ""price_change_percentage_24h"": 0.10007,
//    ""market_cap_change_24h"": 617166027,
//    ""market_cap_change_percentage_24h"": 0.07313,
//    ""circulating_supply"": 19618031,
//    ""total_supply"": 21000000,
//    ""max_supply"": 21000000,
//    ""ath"": 69045,
//    ""ath_change_percentage"": -37.64783,
//    ""ath_date"": ""2021-11-10T14:24:11.849Z"",
//    ""atl"": 67.81,
//    ""atl_change_percentage"": 63388.4951,
//    ""atl_date"": ""2013-07-06T00:00:00.000Z"",
//    ""roi"": null,
//    ""last_updated"": ""2024-02-04T12:27:43.808Z"",
//    ""sparkline_in_7d"": {
//      ""price"": [
//        42463.622391185,
//        42424.05693330369,
//        42385.71898087929,
//        42272.6852553511,
//        42248.82817305251,
//        42312.41578389574,
//        42194.23739337939,
//        41980.423079023545,
//        41749.655704104494,
//        41951.05032076392,
//        41990.0230743614,
//        41821.00081465337,
//        42037.094217521364,
//        41954.13378472504,
//        42159.453294130806,
//        42213.87678291097,
//        42345.62659933033,
//        42201.29568504947,
//        42122.659406393344,
//        42140.70389674424,
//        42029.221583535786,
//        42126.29912243522,
//        42260.1291812186,
//        42303.18928218671,
//        42221.033712587014,
//        42082.30862183737,
//        42003.49246747787,
//        41920.84489382702,
//        42623.587192208324,
//        43130.238726311036,
//        43014.86733307615,
//        42971.904926316914,
//        43003.336805506806,
//        43131.262436752215,
//        43212.003822979554,
//        43156.86535172865,
//        43285.81166738812,
//        43196.66445851454,
//        43444.78049418779,
//        43644.372959296204,
//        43519.165631588585,
//        43407.77698078261,
//        43348.72391735571,
//        43332.264713625664,
//        43358.190533762754,
//        43379.362163596474,
//        43307.41199355394,
//        43475.1502787089,
//        43550.95312814601,
//        43372.69361415296,
//        43302.94347699142,
//        43420.61576132656,
//        43340.022690955484,
//        43517.12566243187,
//        43427.77615206975,
//        43366.1768139239,
//        43545.49270151435,
//        43620.35900180388,
//        43539.73184624675,
//        43337.837788392375,
//        42950.147696810294,
//        42901.59180517213,
//        42798.09230395545,
//        42802.57709205834,
//        42908.04180387903,
//        42962.09763629275,
//        42963.59279264482,
//        42898.15409330055,
//        43001.15792207282,
//        42968.116656258055,
//        42806.613269106696,
//        42415.14688991787,
//        42584.5058447302,
//        42565.457452555274,
//        42771.85621874149,
//        42903.13983786931,
//        43332.3883596826,
//        43485.70897717812,
//        43654.51712848932,
//        43480.824521543276,
//        43327.78818595673,
//        42562.12857020692,
//        42404.14212145746,
//        42648.58414716887,
//        42572.11954415061,
//        42451.35159730011,
//        41971.37081992855,
//        42102.1899654303,
//        41972.164605150596,
//        42027.6010615729,
//        42126.91786999389,
//        42159.31959067968,
//        42168.68058752811,
//        42177.58561272934,
//        42114.8572672568,
//        42172.56557944518,
//        42081.525961501626,
//        42087.76854973732,
//        42209.148906733644,
//        42580.4716431663,
//        42576.40013290742,
//        42661.49152445381,
//        42915.93143439214,
//        42838.19988104702,
//        43163.90997472211,
//        42920.94040446363,
//        43114.6281099444,
//        42948.57887771115,
//        43047.60429822887,
//        43179.2307450622,
//        43123.82590229378,
//        43042.112452825015,
//        43013.952409832986,
//        42956.62278013269,
//        43083.92964621275,
//        43128.32568318218,
//        43079.88947611951,
//        42952.65889951286,
//        42972.11442946044,
//        43065.46992640998,
//        43121.354369192275,
//        43105.15563374108,
//        42615.454720557136,
//        42783.145749511794,
//        43137.89532095854,
//        43205.78780674947,
//        42979.559922843335,
//        42906.81254969984,
//        43053.14720341743,
//        42901.482562136305,
//        42974.41242225966,
//        43152.08654619782,
//        43172.84771167777,
//        43206.260747557084,
//        43196.40064606637,
//        43137.50338330662,
//        43157.42337824539,
//        43170.910924288815,
//        43151.1486513564,
//        43076.63672703351,
//        43051.91886409902,
//        43020.53686472216,
//        43072.644491941144,
//        43040.372624079326,
//        42969.81108136093,
//        43047.87890324671,
//        43055.806660718925,
//        43034.07958655818,
//        43098.4737720461,
//        43092.1189504407,
//        43219.75215269059,
//        43049.65145516272,
//        43027.941944062484,
//        43048.37817568016,
//        43009.4376323046,
//        43014.05074546157,
//        42990.752025666065,
//        42998.086145217276,
//        43028.222156660224,
//        43000.79811280069,
//        43002.926172191175,
//        42887.15330538765,
//        42876.46707646986,
//        42750.471223784676,
//        42828.23327632125,
//        42781.981369902634,
//        42941.8766788376,
//        42937.24001463539
//      ]
//    },
//    ""price_change_percentage_24h_in_currency"": 0.10006858028264341
//  },
//  {
//    ""id"": ""ethereum"",
//    ""symbol"": ""eth"",
//    ""name"": ""Ethereum"",
//    ""image"": ""https://assets.coingecko.com/coins/images/279/large/ethereum.png?1696501628"",
//    ""current_price"": 2308.94,
//    ""market_cap"": 277313827745,
//    ""market_cap_rank"": 2,
//    ""fully_diluted_valuation"": 277313827745,
//    ""total_volume"": 4392618310,
//    ""high_24h"": 2311.59,
//    ""low_24h"": 2286.36,
//    ""price_change_24h"": 3.57,
//    ""price_change_percentage_24h"": 0.15503,
//    ""market_cap_change_24h"": 205955375,
//    ""market_cap_change_percentage_24h"": 0.07432,
//    ""circulating_supply"": 120182569.338076,
//    ""total_supply"": 120182569.338076,
//    ""max_supply"": null,
//    ""ath"": 4878.26,
//    ""ath_change_percentage"": -52.70956,
//    ""ath_date"": ""2021-11-10T14:24:19.604Z"",
//    ""atl"": 0.432979,
//    ""atl_change_percentage"": 532709.16475,
//    ""atl_date"": ""2015-10-20T00:00:00.000Z"",
//    ""roi"": {
//      ""times"": 70.68143503850496,
//      ""currency"": ""btc"",
//      ""percentage"": 7068.143503850496
//    },
//    ""last_updated"": ""2024-02-04T12:27:42.280Z"",
//    ""sparkline_in_7d"": {
//      ""price"": [
//        2277.986799153813,
//        2278.6623116564397,
//        2266.639937530257,
//        2269.038283136563,
//        2274.607612043889,
//        2269.926193884798,
//        2261.119345608755,
//        2251.7063950653715,
//        2262.981458733059,
//        2264.1329588982503,
//        2251.0718973986477,
//        2257.0544646456055,
//        2257.4950700804056,
//        2264.732393592597,
//        2267.341136694343,
//        2271.930061926149,
//        2267.2322265103835,
//        2263.683275636693,
//        2265.9608654511126,
//        2258.645238334679,
//        2263.3265640195914,
//        2271.643056386694,
//        2272.813734368559,
//        2261.980139771033,
//        2256.232016767441,
//        2244.303425602471,
//        2243.259307812972,
//        2277.110129482309,
//        2293.828737013438,
//        2301.751144367138,
//        2298.992056238782,
//        2294.694811667477,
//        2302.0848448484116,
//        2307.018660512152,
//        2313.3230050999887,
//        2316.964788822798,
//        2305.905524163324,
//        2316.1173324863375,
//        2320.8311211845275,
//        2312.6923075521436,
//        2310.0391074249583,
//        2304.6612804810757,
//        2304.548704674077,
//        2311.0096921994955,
//        2306.948881822395,
//        2302.551746247694,
//        2314.7907043180617,
//        2314.8129911772326,
//        2305.997884551152,
//        2306.709445678568,
//        2311.08366951051,
//        2333.5996913471263,
//        2368.712196753156,
//        2370.4773035820836,
//        2374.529985758285,
//        2375.7364047282563,
//        2376.8576333796063,
//        2379.8207508602245,
//        2366.0721090506713,
//        2346.160746177185,
//        2340.9710740115333,
//        2332.8545447310203,
//        2340.163113051186,
//        2341.4449035406938,
//        2341.088905779721,
//        2336.4979596090825,
//        2330.2010763007893,
//        2336.8297556380303,
//        2336.896795607208,
//        2322.047841201188,
//        2282.13905664585,
//        2296.0703014114924,
//        2301.10463044555,
//        2310.0758926070826,
//        2309.286838494513,
//        2322.776317159199,
//        2342.571129415425,
//        2344.213383431851,
//        2334.7677608803924,
//        2323.499009852509,
//        2287.9409100631096,
//        2275.353051581412,
//        2284.7546210368205,
//        2282.4858670158414,
//        2284.0171978794488,
//        2247.719784546835,
//        2257.848511577934,
//        2254.7951076387562,
//        2260.303344922535,
//        2267.179387245794,
//        2270.724811251264,
//        2268.302060335456,
//        2268.7484403221915,
//        2265.025127160437,
//        2266.039573071264,
//        2264.1914990166583,
//        2267.2719335571223,
//        2272.087747468435,
//        2291.1066992065134,
//        2288.6299853600476,
//        2291.2834145284087,
//        2302.918151441346,
//        2295.828032885751,
//        2302.679726926024,
//        2296.4096602441987,
//        2305.2227571444937,
//        2295.9741027577543,
//        2303.376184340526,
//        2309.032320965035,
//        2306.0886489571394,
//        2300.326336022056,
//        2300.431578707345,
//        2297.1841575325147,
//        2304.3355967188772,
//        2308.9801019576803,
//        2313.2491463950423,
//        2308.183492365311,
//        2307.932925919187,
//        2309.448202209392,
//        2316.4063593479527,
//        2314.294968426738,
//        2290.3246941355005,
//        2290.4018219373365,
//        2310.380426045492,
//        2304.0197314461184,
//        2297.2856223084304,
//        2294.1887023658833,
//        2299.313090508201,
//        2294.5805072457406,
//        2295.758691888209,
//        2307.542154985429,
//        2307.461628013455,
//        2312.453964883437,
//        2324.6285128938885,
//        2319.5474869341274,
//        2321.3234753006573,
//        2320.3566462750114,
//        2322.9688941720715,
//        2319.4115509971166,
//        2313.6241892277385,
//        2309.594380185289,
//        2313.842778053103,
//        2312.6186334248546,
//        2301.930249587912,
//        2305.133466034341,
//        2306.0170214417235,
//        2302.1629502536225,
//        2303.7779125265442,
//        2306.147518105859,
//        2308.893421865991,
//        2297.194617431559,
//        2301.8426517414505,
//        2301.99736552579,
//        2298.2023978028983,
//        2296.394357036032,
//        2295.744174863682,
//        2298.543750882012,
//        2304.477135905816,
//        2302.410420308829,
//        2301.91876447472,
//        2296.0300472469853,
//        2299.0470718687725,
//        2290.7630444545384,
//        2289.9687604343558,
//        2289.45410017639,
//        2302.8275808530307,
//        2301.2801726011535
//      ]
//    },
//    ""price_change_percentage_24h_in_currency"": 0.1550302912319236
//  },
//  {
//    ""id"": ""tether"",
//    ""symbol"": ""usdt"",
//    ""name"": ""Tether"",
//    ""image"": ""https://assets.coingecko.com/coins/images/325/large/Tether.png?1696501661"",
//    ""current_price"": 1,
//    ""market_cap"": 96197324041,
//    ""market_cap_rank"": 3,
//    ""fully_diluted_valuation"": 96197324041,
//    ""total_volume"": 15934032561,
//    ""high_24h"": 1.001,
//    ""low_24h"": 0.998225,
//    ""price_change_24h"": 0.00070071,
//    ""price_change_percentage_24h"": 0.07011,
//    ""market_cap_change_24h"": -25274727.38963318,
//    ""market_cap_change_percentage_24h"": -0.02627,
//    ""circulating_supply"": 96231343352.97,
//    ""total_supply"": 96231343352.97,
//    ""max_supply"": null,
//    ""ath"": 1.32,
//    ""ath_change_percentage"": -24.44637,
//    ""ath_date"": ""2018-07-24T00:00:00.000Z"",
//    ""atl"": 0.572521,
//    ""atl_change_percentage"": 74.60433,
//    ""atl_date"": ""2015-03-02T00:00:00.000Z"",
//    ""roi"": null,
//    ""last_updated"": ""2024-02-04T12:25:21.747Z"",
//    ""sparkline_in_7d"": {
//      ""price"": [
//        1.000255985533848,
//        1.0002899121912112,
//        1.000196651173297,
//        0.999450431177086,
//        0.999767335372274,
//        1.000073238061937,
//        1.000183843765574,
//        0.9990939966229685,
//        0.9997570179469175,
//        1.0002308318499813,
//        1.0000829118186243,
//        1.0006598404871452,
//        0.9996846114552034,
//        0.9996521277477889,
//        0.9997205879114887,
//        0.9995835167222671,
//        0.9997469155291394,
//        1.0000712536354588,
//        0.9994012300729636,
//        1.0002063839218909,
//        0.9993404497332703,
//        1.0000850818888438,
//        0.9999386037419349,
//        0.9991696070118787,
//        0.999051041187665,
//        0.9994911249446854,
//        1.0000510926008064,
//        0.9987946954448891,
//        1.0011010104957077,
//        0.9995298219755554,
//        1.0002969925812975,
//        0.9999139827336767,
//        0.999101812254239,
//        1.0000097209897774,
//        1.0002395479256192,
//        1.0002151758226303,
//        1.000375196161292,
//        0.9996974237275956,
//        1.0004509175684444,
//        0.9998934105068128,
//        0.9994833668348833,
//        0.999372052665166,
//        0.9994415830064429,
//        0.9999758675270487,
//        0.9994928248464031,
//        0.9994478222032083,
//        1.0000052519265583,
//        1.0005603914230832,
//        1.0004697179540853,
//        0.9998061836258089,
//        1.0008672842560924,
//        0.9997550621912321,
//        0.9991264793303093,
//        1.0016037970520488,
//        1.000300511955647,
//        0.9994402349831075,
//        1.000280771021523,
//        1.000312109364179,
//        0.9998788009357222,
//        0.999686634284587,
//        0.9993824973019121,
//        0.9997971471496457,
//        0.9997221685040183,
//        1.000838269712384,
//        0.9996588144562143,
//        0.9997974757597666,
//        0.9993844672783525,
//        0.9995753956038932,
//        0.9994290121291481,
//        0.9998354085897648,
//        1.000211720375297,
//        0.9976591133421943,
//        0.999402764552706,
//        0.9989166449490015,
//        0.9995555123981334,
//        0.9997742481765645,
//        1.0017864499889197,
//        1.0005782484419214,
//        1.0012030657833968,
//        0.9995987634561738,
//        0.9991657757403097,
//        0.997861562598176,
//        0.9996667680582333,
//        0.9998347304999912,
//        0.9990851477081583,
//        1.0000482905281312,
//        0.9997988181808741,
//        1.000094428253098,
//        0.9985673982633526,
//        0.9985002343551027,
//        0.9996860161899277,
//        0.9987303943487915,
//        0.9981912137077941,
//        0.9996836519625161,
//        0.9989411961561174,
//        0.998926302238032,
//        0.998449475457499,
//        0.9985818328562073,
//        0.9997516610874382,
//        0.9998737959904636,
//        0.9989700400599455,
//        0.9997645277255504,
//        0.9982321201609932,
//        0.9996738955396879,
//        0.9992963162618184,
//        0.999003225128281,
//        1.0002494624057245,
//        1.0001160806632043,
//        1.0000800228882203,
//        0.9998247091701454,
//        0.9994056977294004,
//        0.9988821056239849,
//        0.9994057256885788,
//        0.9993755002140379,
//        1.0001324320559708,
//        0.9986327727237612,
//        0.9986919382060948,
//        0.9995959130674693,
//        0.9988736603704125,
//        0.9994711533861165,
//        0.9991565079710015,
//        0.9989366816094701,
//        0.9994238361705454,
//        0.9992186608248261,
//        0.9990776934998605,
//        0.9988023610326955,
//        0.9992480127228255,
//        1.000350474163208,
//        0.9995888856290738,
//        0.9989542247015404,
//        0.999096376718892,
//        0.9997582529405667,
//        0.9997553294719826,
//        0.9990459438826237,
//        0.9991086620354529,
//        0.9990461245472515,
//        0.9998347105073452,
//        0.9994103506556773,
//        0.9998345624083226,
//        0.9994509139683058,
//        0.9992828298071651,
//        0.999726238757504,
//        0.999703362206881,
//        0.99949269572281,
//        0.9991534644789275,
//        0.9995305167623362,
//        0.999340823862255,
//        0.9994202839305556,
//        0.9997163567448217,
//        0.9998119324467037,
//        0.9993769396143889,
//        0.9992861767872666,
//        0.9996847848237496,
//        0.9995254623094475,
//        0.9998411156993082,
//        0.999649932943979,
//        0.9999906409684661,
//        0.9998942542199104,
//        0.9997565247192617,
//        0.999368518379295,
//        0.9991952757993001,
//        0.9991729243694853,
//        0.9994232408099081,
//        0.9992779109701032,
//        0.999492838786254,
//        0.9996773660710392,
//        0.9996862989301002,
//        1.0000446613156628
//      ]
//    },
//    ""price_change_percentage_24h_in_currency"": 0.0701067417013342
//  },
//  {
//    ""id"": ""binancecoin"",
//    ""symbol"": ""bnb"",
//    ""name"": ""BNB"",
//    ""image"": ""https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png?1696501970"",
//    ""current_price"": 300.09,
//    ""market_cap"": 46154995940,
//    ""market_cap_rank"": 4,
//    ""fully_diluted_valuation"": 46154995940,
//    ""total_volume"": 300053347,
//    ""high_24h"": 301.73,
//    ""low_24h"": 298.17,
//    ""price_change_24h"": -1.6482682253208623,
//    ""price_change_percentage_24h"": -0.54626,
//    ""market_cap_change_24h"": -266493057.29948425,
//    ""market_cap_change_percentage_24h"": -0.57407,
//    ""circulating_supply"": 153856150,
//    ""total_supply"": 153856150,
//    ""max_supply"": 200000000,
//    ""ath"": 686.31,
//    ""ath_change_percentage"": -56.28951,
//    ""ath_date"": ""2021-05-10T07:24:17.097Z"",
//    ""atl"": 0.0398177,
//    ""atl_change_percentage"": 753303.6448,
//    ""atl_date"": ""2017-10-19T00:00:00.000Z"",
//    ""roi"": null,
//    ""last_updated"": ""2024-02-04T12:27:47.706Z"",
//    ""sparkline_in_7d"": {
//      ""price"": [
//        307.1841456872405,
//        307.6968682151129,
//        307.0350336534138,
//        306.08827327647197,
//        304.8466923996535,
//        306.00317917882404,
//        305.6614010636818,
//        305.1194623798089,
//        303.6069717257505,
//        305.0264640459945,
//        305.35241481365574,
//        304.3032652403359,
//        304.99452218174423,
//        305.1974504544643,
//        306.70414557330963,
//        306.8912406286203,
//        306.20988999188296,
//        305.77475929331564,
//        306.19763749429904,
//        305.8351634131254,
//        305.9181097969863,
//        307.2201202951704,
//        309.0317771375529,
//        308.502637142262,
//        307.89116265298395,
//        307.36473300507225,
//        305.8492662456711,
//        306.2045263355546,
//        309.0283857443906,
//        309.5382822566545,
//        309.1769661368566,
//        310.1357300525153,
//        309.868585501191,
//        310.40348471017643,
//        310.1097468097891,
//        310.10720452391627,
//        310.8207116236089,
//        310.49761007674425,
//        312.10269843057716,
//        312.3440784127629,
//        311.1435878438768,
//        311.1055966086042,
//        310.96266968013225,
//        310.6971352237689,
//        310.9327273592935,
//        310.81689305002595,
//        310.21996373928357,
//        311.2587391873259,
//        310.7935314885103,
//        309.16789054759823,
//        308.8977921939849,
//        308.679012389364,
//        308.8446988120327,
//        311.2941181219211,
//        310.36407753229577,
//        309.64452263709234,
//        310.1250756794471,
//        310.310722632332,
//        309.89944346394617,
//        309.6239064073792,
//        307.66711842938975,
//        307.15932484016497,
//        306.79810879233816,
//        307.33778814732165,
//        306.6491224649194,
//        306.78726897379494,
//        306.17027527331356,
//        305.75861495394577,
//        306.8333632124248,
//        307.2789225469278,
//        304.37690612712566,
//        301.8630706842511,
//        302.89800065391944,
//        303.0220249431921,
//        303.02662947180585,
//        302.3222041187411,
//        304.30067495832196,
//        305.0262361788782,
//        305.4194793120567,
//        304.08237375058866,
//        304.84422859537216,
//        300.6213301051693,
//        299.986682618363,
//        301.00272772851116,
//        300.19602049665986,
//        300.75476703205396,
//        297.0199469790345,
//        298.2075967571071,
//        298.00389067004687,
//        298.95803456416854,
//        298.0038569957397,
//        298.12123898419924,
//        298.2240501250708,
//        297.9916277746825,
//        298.5985655209409,
//        299.6969817825104,
//        298.8216802859162,
//        298.71265294153807,
//        299.56073556646936,
//        300.57071863925665,
//        299.7764934683952,
//        299.9856384532956,
//        300.7497828358675,
//        299.97155448160515,
//        300.73921271722116,
//        299.9222781997427,
//        300.92802280663125,
//        299.7595648005075,
//        300.1326673727588,
//        301.00513168882804,
//        301.05199291552276,
//        302.2127215799033,
//        302.432428040066,
//        301.65543927544445,
//        301.66312652118546,
//        302.38321670563045,
//        303.0823496872865,
//        303.61334648371684,
//        302.7562607524828,
//        302.70210960775717,
//        302.86596454568684,
//        302.05983835501473,
//        300.0093230045599,
//        301.2345385548616,
//        302.2369853836799,
//        301.6026015656009,
//        301.2913545315721,
//        300.6322176959755,
//        300.4232371366011,
//        299.9343375701722,
//        300.10430614419306,
//        301.17928117919746,
//        301.10006479608256,
//        301.5045589958039,
//        302.09916311795433,
//        302.200493276186,
//        302.5784737029114,
//        303.0353962156187,
//        303.3809430443057,
//        303.20244987804466,
//        302.12361990732103,
//        301.6414059516624,
//        301.9728986172471,
//        302.1128809131203,
//        301.38508707506594,
//        301.30313573181843,
//        300.54686863009556,
//        300.6411444137454,
//        300.4288022014314,
//        300.68103002438727,
//        301.45429787345887,
//        299.8838679055189,
//        300.1181429210197,
//        300.0314496371662,
//        299.9732318836888,
//        299.9192531114456,
//        299.71815324854197,
//        299.0131544495083,
//        299.5024597351419,
//        300.39773063105827,
//        300.4016136156301,
//        299.419740694187,
//        299.6307692505758,
//        298.8524960921772,
//        298.98167812925175,
//        299.6546541556524,
//        300.2830974061986,
//        299.87139978855674
//      ]
//    },
//    ""price_change_percentage_24h_in_currency"": -0.5462638391787146
//  },
//  {
//    ""id"": ""solana"",
//    ""symbol"": ""sol"",
//    ""name"": ""Solana"",
//    ""image"": ""https://assets.coingecko.com/coins/images/4128/large/solana.png?1696504756"",
//    ""current_price"": 98.27,
//    ""market_cap"": 42807942713,
//    ""market_cap_rank"": 5,
//    ""fully_diluted_valuation"": 55826439515,
//    ""total_volume"": 1421685643,
//    ""high_24h"": 98.84,
//    ""low_24h"": 96.16,
//    ""price_change_24h"": -0.5697272026999372,
//    ""price_change_percentage_24h"": -0.57643,
//    ""market_cap_change_24h"": -297331510.2061157,
//    ""market_cap_change_percentage_24h"": -0.68978,
//    ""circulating_supply"": 436090861.613951,
//    ""total_supply"": 568712219.416891,
//    ""max_supply"": null,
//    ""ath"": 259.96,
//    ""ath_change_percentage"": -62.23919,
//    ""ath_date"": ""2021-11-06T21:54:35.825Z"",
//    ""atl"": 0.500801,
//    ""atl_change_percentage"": 19501.13732,
//    ""atl_date"": ""2020-05-11T19:35:23.449Z"",
//    ""roi"": null,
//    ""last_updated"": ""2024-02-04T12:27:38.839Z"",
//    ""sparkline_in_7d"": {
//      ""price"": [
//        98.39113963406226,
//        97.79183609454626,
//        97.51610912753117,
//        96.79707792444044,
//        97.20918847522785,
//        97.532275262943,
//        96.23851306533477,
//        95.31948344057147,
//        94.71214218846357,
//        95.35567589855971,
//        96.00673857943725,
//        95.03323832906571,
//        95.96069012846759,
//        95.28980048910185,
//        96.81573896580001,
//        96.84601105077314,
//        98.03453676396236,
//        97.15469035265012,
//        96.31864133504132,
//        97.28403521887377,
//        96.73057568443286,
//        97.13404394007182,
//        97.11274925836686,
//        97.53278273903979,
//        97.30850656427235,
//        96.93366725596586,
//        96.30706982908481,
//        95.92207163017598,
//        99.87891459013015,
//        101.08127233072112,
//        100.58650467800483,
//        100.11286229114793,
//        100.66224430257185,
//        101.25435198997903,
//        101.18488627753968,
//        100.92805270997553,
//        101.58839713809105,
//        101.12731431570903,
//        102.71314612030069,
//        103.26163895233408,
//        102.41386047038253,
//        102.05869596879057,
//        102.5716483004631,
//        102.85142915971844,
//        102.9277173241253,
//        103.19433851267286,
//        103.39101029098606,
//        104.36213511274978,
//        105.99876793901882,
//        104.53532835294128,
//        104.50848887911877,
//        105.26076037336762,
//        104.82392475057591,
//        104.61199576023618,
//        104.88872680506583,
//        104.98728253396398,
//        105.4638044705069,
//        105.18747484836348,
//        104.32961277066954,
//        103.73747253776746,
//        101.49542996504786,
//        100.3044993438584,
//        100.1414178933435,
//        100.43076501223163,
//        101.07730954473776,
//        100.60999535277713,
//        101.27764271420266,
//        100.22344249869845,
//        101.07688885352184,
//        101.18039286794814,
//        100.33725137647168,
//        97.79587110338014,
//        98.79663044840032,
//        99.38548673315546,
//        99.64264700738953,
//        100.02006998358208,
//        101.07904330842351,
//        101.17295632609748,
//        102.33286214545689,
//        101.40826888040192,
//        100.8188562413554,
//        97.83892281755028,
//        97.00054322275011,
//        97.64105276688612,
//        96.99969205570162,
//        97.1399940232136,
//        94.08110501488031,
//        94.2538138040804,
//        93.70135024865868,
//        94.0360305569089,
//        94.1711857320058,
//        94.57365828679148,
//        94.9959313041172,
//        95.00955588573684,
//        95.54000666967121,
//        96.28573925684631,
//        95.31601633360609,
//        95.11062048030142,
//        95.46646248527989,
//        96.79887912704916,
//        96.17335258663269,
//        96.35430357104427,
//        96.981463845732,
//        96.73412702049475,
//        97.68352488492211,
//        96.96043611555088,
//        97.92740652289233,
//        97.121012137343,
//        97.79003124090778,
//        98.79514144853066,
//        98.65005128900987,
//        99.14972679232807,
//        99.08595091495697,
//        99.08817496608157,
//        99.22750774713295,
//        100.118835693118,
//        100.69180369026459,
//        100.16168325263611,
//        100.68267099534673,
//        101.88460949849679,
//        101.98012616308489,
//        101.44337941021469,
//        98.7820451749395,
//        99.1974573911718,
//        101.09586488142561,
//        100.14840447519948,
//        99.33886620127782,
//        99.12189811020455,
//        99.32868837533042,
//        99.08725550494594,
//        99.38337548157017,
//        100.07265722782475,
//        100.47882730671968,
//        100.2899124467034,
//        99.78452270315402,
//        99.33317051144351,
//        99.38867522151706,
//        99.59874689192678,
//        99.97418053984372,
//        99.65759099806117,
//        98.95302783954325,
//        98.40864764100034,
//        98.99451539325237,
//        98.90103125230186,
//        98.5054648878626,
//        98.70597121112854,
//        97.95109241453812,
//        97.69339063858013,
//        97.97389479012827,
//        97.8580374890967,
//        98.44910059978675,
//        97.42264800802117,
//        98.03929013573806,
//        97.96905795515525,
//        97.83127914424558,
//        97.95272296678348,
//        97.83821718232653,
//        97.76158409035148,
//        98.40317409421768,
//        98.16115470608618,
//        98.25067935236603,
//        97.46452507616479,
//        97.59100023253595,
//        97.01321952213367,
//        96.45393472237224,
//        96.50877896407556,
//        97.38608267249725,
//        97.18582323640595
//      ]
//    },
//    ""price_change_percentage_24h_in_currency"": -0.576425872341739
//  }
//]";
//                T var = JsonSerializer.Deserialize<T>(json);